# ğŸ§  Focus Scoring

Focus Scoring is how the app evaluates the quality of a userâ€™s focus session. It helps users reflect on their performance and improve focus habits over time.

The score is based on app usage, distractions, pickups, idle time, and completion status.

---

## ğŸ¯ What the Score Measures

Each session is scored from **0 to 100**, based on:

| Metric                     | Impact                            |
|---------------------------|------------------------------------|
| âœ… Session Completed       | +15â€“20 points                      |
| ğŸ“µ App Switches            | -X per switch (to blocked apps)    |
| ğŸ”“ Device Pickups/Unlocks  | -X per unlock                      |
| âŒ› Idle Time               | -X after Y seconds of inactivity   |
| ğŸš« Blocked App Usage       | Heavy penalty                      |
| â±ï¸ Total Duration         | Bonus for long, completed sessions |

---

## ğŸ§ª Formula (Simplified)

```ts
let score = 100;

if (!completedSession) score -= 20;

score -= appSwitches * 1.5;
score -= pickups * 2;
score -= blockedAppMinutes * 5;
score -= idleTimeMinutes * 1;

if (sessionDuration >= 60) score += 10; // bonus

score = clamp(score, 0, 100);
````

> All numbers are tunable per platform and mode.

---

## âš™ï¸ Platform Integration

### Desktop

* Gets app switch data from active window polling
* Idle time from input inactivity (keyboard/mouse)
* Block violations from overlay triggers

### Android

* Pulls unlocks from `ACTION_USER_PRESENT`
* Foreground app usage via UsageStats
* Screen-off time as idle detection

### iOS

* Very limited: screen pickups, timers, and blocked attempt counts (no granular tracking without MDM)

---

## ğŸ§© Configurable Parameters

Each session can adjust sensitivity:

* ğŸ“‰ App switch penalty: mild/normal/strict
* ğŸ•’ Idle timeout threshold: 1â€“5 minutes
* âœ… Completion bonus toggle
* ğŸ”¥ Blocked app penalty multiplier
* ğŸ§˜ Chill Mode: disables scoring entirely (for journaling, light work)

---

## ğŸ“Š After-Session Feedback

At the end of a focus session, users see:

* Final score (0â€“100)
* Time focused vs. distracted
* Breakdown chart of:

  * App switches
  * Pickups
  * Idle time
  * Blocked app hits
* Emoji mood scale or animated feedback (planned)

---

## ğŸ”’ Privacy Notes

* All scoring is done **locally** (offline)
* No raw app usage is sent to the cloud unless sync is enabled
* Scoring logic can be reviewed (open-source friendly)

---

## ğŸ”® Future Additions

* Weekly average score trend
* AI-generated insights (â€œYou tend to lose focus at 3PMâ€)
* Social accountability leaderboard (opt-in)
* Bonus for not touching phone at all